<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>Games ‚Äì –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="css_games.css">
  <style>
    .quiz-block {
      margin-bottom: 25px;
      padding: 15px;
      border-radius: 10px;
      background: #f0f8ff;
      border: 2px solid #a0c8e0;
    }
    .quiz-block h3 {
      margin-top: 0;
      font-size: 1.2em;
      margin-bottom: 10px;
    }
    .answers button {
      width: auto;
    }
    #quiz-translated { display: none; }
    .translate-btn {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      font-size: 1em;
      font-weight: bold;
      background: #4CAF50;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .translate-btn:hover { background: #388E3C; }
  </style>
</head>
<body>
  <div class="esc-bar">
    <a href="index.html" class="esc-btn">ESC</a>
  </div>

  <header class="top-images">
    <img src="flag.png" alt="Flag" class="big-image">
    <img src="map.png" alt="Map" class="big-image">
    <img src="portrait.jpg" alt="Portrait" class="big-image">
  </header>

  <div class="quiz-container">
    <h1 style="text-align:center;">üìù –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</h1>

    <!-- –ü–µ—Ä–≤–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ -->
    <div id="quiz-original"></div>
    <div id="result-original" class="result"></div>

    <!-- –í—Ç–æ—Ä–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ -->
    <div id="quiz-translated"></div>
    <div id="result-translated" class="result"></div>

    <button class="translate-btn" id="translate-btn">–ü–µ—Ä–µ–≤–æ–¥</button>
  </div>

  <script>
    // ‚úÖ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
    const questionsOriginal = [
      {question: "–°—Ç–æ–ª–∏—Ü–∞ –ë–µ–ª–∞—Ä—É—Å–∏?", answers: ["–ú–æ–≥–∏–ª—ë–≤", "–ì–æ–º–µ–ª—å", "–ú–∏–Ω—Å–∫"], correct: 2},
      {question: "–î–ª–∏–Ω–∞ –≥—Ä–∞–Ω–∏—Ü—ã –ë–µ–ª–∞—Ä—É—Å–∏?", answers: ["3568", "1545", "3617", "2758"], correct: 2},
      // ‚¨á‚¨á –¢—Ä–µ—Ç–∏–π –≤–æ–ø—Ä–æ—Å ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö
      {question: "–ö–∞–∫–∏–µ –≥–æ—Ä–æ–¥–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ë–µ–ª–∞—Ä—É—Å–∏?", answers: ["–ú–∏–Ω—Å–∫", "–ú–æ—Å–∫–≤–∞", "–ì–æ–º–µ–ª—å"], correct: [0,2]},
      {question: "–Ø–∑—ã–∫ —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞?", answers: ["HTML", "Python", "C++"], correct: 0}
    ];

    // ‚úÖ –ø–µ—Ä–µ–≤–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
    const questionsTranslated = [
      {question: "Capital of Belarus?", answers: ["Mogilev", "Gomel", "Minsk"], correct: 2},
      {question: "Length of the Belarus border?", answers: ["3568", "1545", "3617", "2758"], correct: 2},
      {question: "Which cities are in Belarus?", answers: ["Minsk", "Moscow", "Gomel"], correct: [0,2]},
      {question: "Language of this site?", answers: ["HTML", "Python", "C++"], correct: 0}
    ];

    function renderQuiz(containerId, resultId, questions) {
      let score = 0;
      const quizEl = document.getElementById(containerId);
      const resultEl = document.getElementById(resultId);

      questions.forEach((q, qi) => {
        const block = document.createElement("div");
        block.classList.add("quiz-block");

        const title = document.createElement("h3");
        title.textContent = (qi+1) + ". " + q.question;
        block.appendChild(title);

        const answersDiv = document.createElement("div");
        answersDiv.classList.add("answers");

        // –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
        let selected = [];

        q.answers.forEach((ans, ai) => {
          const btn = document.createElement("button");
          btn.textContent = ans;

          btn.addEventListener("click", () => {
            // –µ—Å–ª–∏ correct –º–∞—Å—Å–∏–≤ ‚Üí —Ä–∞–∑—Ä–µ—à–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–∫–æ–≤
            if (Array.isArray(q.correct)) {
              if (selected.includes(ai)) return; // –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–≤—Ç–æ—Ä
              selected.push(ai);
              // –∫–æ–≥–¥–∞ –≤—ã–±—Ä–∞–ª–∏ —Å—Ç–æ–ª—å–∫–æ –∂–µ, —Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º
              if (selected.length === q.correct.length) {
                const buttons = answersDiv.querySelectorAll("button");
                buttons.forEach((b, i) => {
                  b.disabled = true;
                  if (q.correct.includes(i)) b.classList.add("correct");
                  if (selected.includes(i) && !q.correct.includes(i)) b.classList.add("wrong");
                });
                // –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤
                if (JSON.stringify([...selected].sort()) === JSON.stringify([...q.correct].sort())) {
                  score++;
                }
                if (document.querySelectorAll(`#${containerId} .answers button:not([disabled])`).length === 0) {
                  resultEl.textContent = `–¢—ã –æ—Ç–≤–µ—Ç–∏–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ ${score} –∏–∑ ${questions.length} –≤–æ–ø—Ä–æ—Å–æ–≤ üéâ`;
                }
              }
            } else {
              // –æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º: –æ–¥–∏–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
              const buttons = answersDiv.querySelectorAll("button");
              buttons.forEach((b, i) => {
                b.disabled = true;
                if (i === q.correct) b.classList.add("correct");
                if (i === ai && ai !== q.correct) b.classList.add("wrong");
              });
              if (ai === q.correct) score++;
              if (document.querySelectorAll(`#${containerId} .answers button:not([disabled])`).length === 0) {
                resultEl.textContent = `–¢—ã –æ—Ç–≤–µ—Ç–∏–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ ${score} –∏–∑ ${questions.length} –≤–æ–ø—Ä–æ—Å–æ–≤ üéâ`;
              }
            }
          });

          answersDiv.appendChild(btn);
        });

        block.appendChild(answersDiv);
        quizEl.appendChild(block);
      });
    }

    // –æ—Ä–∏–≥–∏–Ω–∞–ª
    renderQuiz("quiz-original", "result-original", questionsOriginal);

    // –∫–Ω–æ–ø–∫–∞ –ü–µ—Ä–µ–≤–æ–¥
    const translateBtn = document.getElementById("translate-btn");
    translateBtn.addEventListener("click", () => {
      document.getElementById("quiz-original").style.display = "none";
      document.getElementById("result-original").style.display = "none";
      translateBtn.style.display = "none";
      document.getElementById("quiz-translated").style.display = "block";
      document.getElementById("result-translated").style.display = "block";
      renderQuiz("quiz-translated", "result-translated", questionsTranslated);
    });
  </script>
</body>
</html>
